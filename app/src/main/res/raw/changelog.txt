## 3.3.0

Grocy server version 4.0.0 has some bigger changes with quantity units and unit conversions.
Please read the server changelog carefully for longer explanations of the changes before or after
your server update. We recommend installing the update as our app was mainly tested with it and
recipe fulfillment information in our app are finally all correct with it, but older supported
versions still work.

Specific changes for Grocy server 4.0.0 (other versions behave the same way as before):

- New: Full compatibility for server version 4.0.0 (#644)
- New: Quantity unit conversions can be transitive now (unlimited QU levels)
- New: Product option "Factor purchase to stock unit" is disabled - Use normal product specific
  QU conversions instead, if needed
- New: Product option "Default quantity unit consume"
- New: Product option "Quantity unit for prices"
- Improved: Load label for energy values from server (was fixed kcal before)
- Fixed: Network error when saving a new product (#642)
- Fixed: Fulfillment info on recipe ingredients list was wrong with substituted products (#669)

All other changes:

- New: Product choose page after barcode scan now has really useful copy option for products (#636)
- New: Product pictures now can be removed and added with camera and clipboard (#536)
- New: On purchase page, store now can be pinned (always initially selected in session) (#525)
- New: Recipe details are now displayed on a separate page, not a bottom sheet anymore
- New: Recipes and stock overview page now have checkbox options for all additional fields (#663)
- New: Shopping pages now also has checkbox options for fields and picture (#663, #671, #710)
- New: Shopping mode options are now reachable through shopping mode menu and removed from settings
- New: Product groups, locations & quantity units now can be created while creating product
- New: Japanese translation (thanks daigoume!)
- Improved: Better and unified network behavior across pages
- Improved: Database exceptions are now caught and displayed (#698)
- Improved: Pictures in recipe or product descriptions now can be up to 10MB large (#698)
- Improved: Design for recipe page
- Improved: Keyboard is displayed more reliably and quickly
- Improved: Form focus on master object pages & fixed plural field for English on QU page
- Improved: "Create recipe" page and "Create product" page now use "save and not close" buttons
- Improved: Description editor page now has bottom padding (still needs improvements with keyboard)
- Improved: Language picker works more reliably with demo domain change
- Improved: Shopping mode grouping option now can be set separately from shopping list page
- Improved: New grid layout on recipe page is default now
- Improved: Misleading error when trying to save duplicated barcode on product barcode edit (#724)
- Improved: Message shown when product or recipe is not on server (#718)
- Improved: Pictures optimized & added pictures to product bottom sheet and recipe page (#536)
- Improved: On recipe ingredient edit page, product overview sheet now can be displayed
- Improved: Horizontal actions layout on overview page for smaller screens
- Improved: Clear caching related info after app update or database update for data refresh (#726)
- Improved: Recipe ingredient price factor now can be set (#615)
- Improved: "Factor purchase to stock unit" was moved to quantity units category in master product
- Improved: When scanning a product barcode and the purchase or inventory page, the note will now
  also be prefilled from the barcode (was option before, but server v4 has that behavior now) (#644)
- Improved: It is now clearer which QR code is to be scanned when using Home Assistant (#627)
- Fixed: Amounts with conversions are consistent over all pages now (#612, #626)
- Fixed: Long click on barcode button on overview page was broken on Android Nougat and lower
- Fixed: Crash on startup with Android Lollipop (and maybe higher)
- Fixed: Prevent crash when opening qu conversion page (#708)
- Fixed: Glitch with large top margin on recipe grid layout (#696)
- Fixed: Flickering of bottom messages when bottom bar was scrolled down (#719),
  vertical position is now animated smoothly instead of jumping
- Fixed: Saving QU conversion failed if conversion existed already in other product (#707, #682)
- Fixed: Disabled features with Home Assistant add-on were not disabled in app (#713)
- Fixed: On product creation with prefilled name there was a plus instead of space character
- Fixed: On product details sheet, description card was rendered with wrong height sometimes (#717)
- Fixed: Editing of recipe ingredient with broken quantity unit is possible now
- Fixed: Recipe ingredient price factor is not saved wrong anymore when creating ingredient (#615)
- Fixed: Product description popup animation doesn't have glitches anymore
- Fixed: App was sometimes offline when opened from background (#722)
- Fixed: With server version below 3.3.0, stock quantity unit could not be set in new product (#678)
- Fixed: Total product count on overview page in stock section also included products with
  option "Never show on stock overview" enabled (#644)
- Fixed: Wrong quantity units in confirmation dialog of quick mode (#732)

## 3.2.1

- Fixed: Random crash with no reason (#699)
- Fixed: Prevent another crash after reopening app from background (#697)
- Fixed: Product pictures not loading (with Home Assistant or not, we don't know) (#700)
- Fixed: Overview and stock page not populated after theme change or other cases (#692, #695)
- Fixed: Crash on stock page with opened product overview sheet in some cases (#673)

## 3.2.0

- New: Catalan, Estonian and Portuguese (Brazil) translations. Many thanks for your contributions!
- New: Product pictures on stock & master products list if at least one picture is available (#536)
- New: Grid layout for recipes list
- New: Many pages of the app now can be opened using NFC tags with URI (thanks @codesalatdev) (#676)
- Improved: In-app help now contains a list of the supported URIs that can be used for Intents
- Improved: Menu button in bottom app bar now can be hidden in behavior settings
- Improved: Scrollbar is shown in scrollable lists
- Improved: Better logic on login page for receiving Home Assistant session token (#670)
- Improved: Logging on login page for Home Assistant connection (#670)
- Improved: Moved shortcuts option from behavior to appearance settings
- Improved: Added option for quick mode state when using scan button on overview page (#540, #648)
- Improved: Added separate buttons for shopping mode and new task to overview start page
- Improved: Updated plural rules for quantity units in all project languages from Transifex
- Improved: Better indication of invalid fields on unit conversion edit page (#682)
- Improved: themed icon support for app shortcuts
- Fixed: Home Assistant offline error (#670)
- Fixed: On login pages all barcode formats were allowed, now only QR code format is recognized
- Fixed: Deprecated Google Play developer profile link
- Fixed: Demo domain change with translation which has a specific region
- Fixed: Focused input field covered by keyboard
- Fixed: Crashes where parsing a wrong formatted decimal number was the reason (again #652)